<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle Report - 20251206_162254</title>
    <link rel="stylesheet" href="battle_report.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Battle Report</h1>
            <p>Generated on 2025-12-06 16:22:54</p>
        </header>

        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-value">0.00s</span>
                <span class="stat-label">Simulation Time</span>
            </div>
            <div class="stat-card">
                <span class="stat-value" style="color: var(--team1-color)">0</span>
                <span class="stat-label">Team 1 Units</span>
            </div>
            <div class="stat-card">
                <span class="stat-value" style="color: var(--team2-color)">10</span>
                <span class="stat-label">Team 2 Units</span>
            </div>
            <div class="stat-card">
                <span class="stat-value">10</span>
                <span class="stat-label">Total Active</span>
            </div>
        </div>

        <div class="controls">
            <input type="text" id="unitSearch" placeholder="Search units (ID, Type, Status)..." onkeyup="filterUnits()">
            <div class="buttons">
                <button onclick="toggleDetails(true)">Expand All</button>
                <button onclick="toggleDetails(false)">Collapse All</button>
            </div>
        </div>

        
        <div class="battle-map-container">
            <div class="map-header">
                <h3>Battlefield Map (120x120)</h3>
                <div class="map-controls">
                    <button onclick="zoomMap(0.5)" title="Zoom In">+</button>
                    <button onclick="zoomMap(-0.5)" title="Zoom Out">-</button>
                    <button onclick="resetZoom()" title="Reset Zoom">Reset</button>
                </div>
            </div>
            <div class="battle-map-viewport">
                <div id="battleMap" class="battle-map" style="--cols: 120; --rows: 120;">
                    <div class="unit-cell team2" style="grid-column: 27; grid-row: 31;" data-unit-id="unit-2-1" onclick="selectUnit('unit-2-1')" title="Pikeman #1 (26.8, 31.0)">P</div><div class="unit-cell team2" style="grid-column: 29; grid-row: 30;" data-unit-id="unit-2-2" onclick="selectUnit('unit-2-2')" title="Knight #2 (28.4, 29.7)">K</div><div class="unit-cell team2" style="grid-column: 30; grid-row: 41;" data-unit-id="unit-2-3" onclick="selectUnit('unit-2-3')" title="Knight #3 (29.0, 40.0)">K</div><div class="unit-cell team2" style="grid-column: 27; grid-row: 26;" data-unit-id="unit-2-4" onclick="selectUnit('unit-2-4')" title="Pikeman #4 (26.9, 26.0)">P</div><div class="unit-cell team2" style="grid-column: 27; grid-row: 36;" data-unit-id="unit-2-5" onclick="selectUnit('unit-2-5')" title="Pikeman #5 (26.4, 35.7)">P</div><div class="unit-cell team2" style="grid-column: 27; grid-row: 21;" data-unit-id="unit-2-6" onclick="selectUnit('unit-2-6')" title="Pikeman #6 (26.8, 21.0)">P</div><div class="unit-cell team2" style="grid-column: 29; grid-row: 27;" data-unit-id="unit-2-7" onclick="selectUnit('unit-2-7')" title="Knight #7 (28.8, 26.3)">K</div><div class="unit-cell team2" style="grid-column: 29; grid-row: 22;" data-unit-id="unit-2-8" onclick="selectUnit('unit-2-8')" title="Knight #8 (28.7, 21.3)">K</div><div class="unit-cell team2" style="grid-column: 28; grid-row: 38;" data-unit-id="unit-2-9" onclick="selectUnit('unit-2-9')" title="Knight #9 (27.5, 37.3)">K</div><div class="unit-cell team2" style="grid-column: 28; grid-row: 41;" data-unit-id="unit-2-10" onclick="selectUnit('unit-2-10')" title="Pikeman #10 (27.0, 40.0)">P</div>
                </div>
            </div>
            <p class="help-text">Click units to view details â€¢ Use controls to zoom</p>
        </div>
        

        <div class="teams-container">
            
    <div class="team-section">
        <details open>
            <summary>Team 1 - 0 units</summary>
            <div class="unit-list">

            </div>
        </details>
    </div>

    <div class="team-section">
        <details open>
            <summary>Team 2 - 10 units</summary>
            <div class="unit-list">

                <div class="unit team2" id="unit-2-1" data-unit-id="unit-2-1">
                    <div class="unit-header">
                        <span>#1 Pikeman (P)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (26.8, 31.0)</div>
                        <div>HP: 55/55 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-2" data-unit-id="unit-2-2">
                    <div class="unit-header">
                        <span>#2 Knight (K)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (28.4, 29.7)</div>
                        <div>HP: 100/100 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-3" data-unit-id="unit-2-3">
                    <div class="unit-header">
                        <span>#3 Knight (K)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (29.0, 40.0)</div>
                        <div>HP: 100/100 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-4" data-unit-id="unit-2-4">
                    <div class="unit-header">
                        <span>#4 Pikeman (P)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (26.9, 26.0)</div>
                        <div>HP: 55/55 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-5" data-unit-id="unit-2-5">
                    <div class="unit-header">
                        <span>#5 Pikeman (P)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (26.4, 35.7)</div>
                        <div>HP: 55/55 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-6" data-unit-id="unit-2-6">
                    <div class="unit-header">
                        <span>#6 Pikeman (P)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (26.8, 21.0)</div>
                        <div>HP: 55/55 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-7" data-unit-id="unit-2-7">
                    <div class="unit-header">
                        <span>#7 Knight (K)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (28.8, 26.3)</div>
                        <div>HP: 100/100 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-8" data-unit-id="unit-2-8">
                    <div class="unit-header">
                        <span>#8 Knight (K)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (28.7, 21.3)</div>
                        <div>HP: 100/100 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-9" data-unit-id="unit-2-9">
                    <div class="unit-header">
                        <span>#9 Knight (K)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (27.5, 37.3)</div>
                        <div>HP: 100/100 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

                <div class="unit team2" id="unit-2-10" data-unit-id="unit-2-10">
                    <div class="unit-header">
                        <span>#10 Pikeman (P)</span>
                        <span>Alive</span>
                    </div>
                    <div class="unit-details">
                        <div>Pos: (27.0, 40.0)</div>
                        <div>HP: 55/55 (100%) | DMG: 0</div>
                        <div>Idle</div>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill " style="width: 100.0%"></div>
                    </div>
                </div>

            </div>
        </details>
    </div>

        </div>

        <div class="legend">
            <h3>Unit Legend</h3>
            <ul>
            <li><strong>M</strong>: Capped Ram</li>
            <li><strong>#</strong>: Castle</li>
            <li><strong>A</strong>: Cavalry Archer</li>
            <li><strong>C</strong>: Crossbowman</li>
            <li><strong>S</strong>: Elite Skirmisher</li>
            <li><strong>E</strong>: Elite War Elephant</li>
            <li><strong>K</strong>: Knight</li>
            <li><strong>V</strong>: Light Cavalry</li>
            <li><strong>L</strong>: Long Swordsman</li>
            <li><strong>N</strong>: Monk</li>
            <li><strong>O</strong>: Onager</li>
            <li><strong>P</strong>: Pikeman</li>
            <li><strong>R</strong>: Scorpion</li>
            <li><strong>T</strong>: Trebuchet</li>
            <li><strong>W</strong>: Wonder</li>
            </ul>
        </div>

        <footer>
            <p>MedievAIl Battle Simulator Report</p>
        </footer>
    </div>

    <script>
        let selectedUnitId = null;

        function filterUnits() {
            const input = document.getElementById('unitSearch');
            const filter = input.value.toUpperCase();
            const units = document.getElementsByClassName('unit');

            for (let i = 0; i < units.length; i++) {
                const txtValue = units[i].textContent || units[i].innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    units[i].style.display = "";
                } else {
                    units[i].style.display = "none";
                }
            }
        }

        function toggleDetails(open) {
            const details = document.getElementsByTagName('details');
            for (let i = 0; i < details.length; i++) {
                if (open) {
                    details[i].setAttribute('open', 'true');
                } else {
                    details[i].removeAttribute('open');
                }
            }
        }

        function selectUnit(unitId) {
            // Remove previous selection
            if (selectedUnitId) {
                const prevUnit = document.getElementById(selectedUnitId);
                const prevDot = document.querySelector(`[data-unit-id="${selectedUnitId}"]`);
                if (prevUnit) prevUnit.classList.remove('selected');
                if (prevDot) prevDot.classList.remove('selected');
            }

            // Set new selection
            selectedUnitId = unitId;
            const unit = document.getElementById(unitId);
            const dot = document.querySelector(`[data-unit-id="${unitId}"]`);
            
            if (unit) {
                unit.classList.add('selected');
                unit.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Expand the parent details if collapsed
                const details = unit.closest('details');
                if (details && !details.hasAttribute('open')) {
                    details.setAttribute('open', 'true');
                }
            }
            
            if (dot) {
                dot.classList.add('selected');
            }
        }

        // Add click handlers to unit cards
        document.addEventListener('DOMContentLoaded', function() {
            const units = document.getElementsByClassName('unit');
            for (let i = 0; i < units.length; i++) {
                units[i].addEventListener('click', function() {
                    const unitId = this.getAttribute('data-unit-id');
                    selectUnit(unitId);
                });
            }
        });

        let currentZoom = 1;
        
        function zoomMap(delta) {
            currentZoom += delta;
            if (currentZoom < 1) currentZoom = 1;
            if (currentZoom > 5) currentZoom = 5;
            updateMapZoom();
        }
        
        function resetZoom() {
            currentZoom = 1;
            updateMapZoom();
        }
        
        function updateMapZoom() {
            const map = document.getElementById('battleMap');
            if (map) {
                map.style.width = `${currentZoom * 100}%`;
            }
        }
    </script>
</body>
</html>